# Database
# ------------------------------------------------------------------------------------
POSTGRES_URL=${POSTGRES_URL}
POSTGRES_DB=postgres
POSTGRES_USER=${POSTGRES_USER}
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Clerk Related
# ------------------------------------------------------------------------------------
CLERK_SECRET_KEY=${CLERK_SECRET_KEY}

# AI Provider
# ------------------------------------------------------------------------------------
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929
GOOGLE_API_KEY=${GOOGLE_API_KEY}
GOOGLE_MODEL=gemini-2.0-flash
AGENT_MAX_TURNS=25

# Docker Related
# ------------------------------------------------------------------------------------
DOCKER_HOST=unix:///var/run/docker.sock

# Github Related
# ------------------------------------------------------------------------------------
TEMPLATE_REPOSITORY=Kosuke-Org/kosuke-template

# Preview
# ------------------------------------------------------------------------------------
PREVIEW_RESEND_API_KEY=${PREVIEW_RESEND_API_KEY}

# Sandbox
# ------------------------------------------------------------------------------------
SANDBOX_IMAGE=ghcr.io/kosuke-org/kosuke-sandbox:latest
SANDBOX_NETWORK=kosuke_network
TRAEFIK_ENABLED=true
SANDBOX_PORT_RANGE_START=4000
SANDBOX_PORT_RANGE_END=4999
SANDBOX_MEMORY_LIMIT=4294967296 # 4GB
SANDBOX_CPU_SHARES=512
SANDBOX_PIDS_LIMIT=4096
SANDBOX_AGENT_PORT=9000
SANDBOX_BUN_PORT=3000
SANDBOX_PYTHON_PORT=8000
SANDBOX_TEST=false
SANDBOX_LOGGER_URL=http://nextjs:3000/api/webhooks/agent/logs
SANDBOX_WEBHOOK_SECRET=${SANDBOX_WEBHOOK_SECRET}

# GitHub App Authentication
# ------------------------------------------------------------------------------------
GITHUB_APP_ID=2285587
GITHUB_APP_PRIVATE_KEY=${GITHUB_APP_PRIVATE_KEY}
GITHUB_APP_INSTALLATION_ID=94533615
GITHUB_WEBHOOK_SECRET=${GITHUB_WEBHOOK_SECRET}

# Sessions & Sandbox
# ------------------------------------------------------------------------------------
SESSION_BRANCH_PREFIX=kosuke/chat-
SANDBOX_GIT_EMAIL=bot@kosuke.dev

# Domain configuration
# ------------------------------------------------------------------------------------
MAIN_DOMAIN=stage.kosuke.ai
SANDBOX_BASE_DOMAIN=previews.stage.kosuke.ai

# Cloudflare configuration for SSL
# ------------------------------------------------------------------------------------
CLOUDFLARE_EMAIL=${CLOUDFLARE_EMAIL}
CLOUDFLARE_API_KEY=${CLOUDFLARE_API_KEY}

# Sentry
# ------------------------------------------------------------------------------------
SENTRY_AUTH_TOKEN=${SENTRY_AUTH_TOKEN}
SENTRY_DSN=https://7071a3836b6ea9e65b3af3b8c8ad2275@o4510176662257664.ingest.de.sentry.io/4509807538929744
SENTRY_ENVIRONMENT=stage

# S3: storage configuration
# ------------------------------------------------------------------------------------
# S3 Storage (Digital Ocean Spaces)
S3_ENABLED=true
S3_REGION=fra1
S3_ENDPOINT=https://fra1.digitaloceanspaces.com
S3_BUCKET=${S3_BUCKET}
S3_ACCESS_KEY_ID=${S3_ACCESS_KEY_ID}
S3_SECRET_ACCESS_KEY=${S3_SECRET_ACCESS_KEY}

# Redis Configuration
# ------------------------------------------------------------------------------------
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379

# Preview Cleanup Configuration
# ------------------------------------------------------------------------------------
CLEANUP_THRESHOLD_MINUTES=30
CLEANUP_INTERVAL_MINUTES=30
CLEANUP_WORKER_CONCURRENCY=1

# Queue Configuration
# ------------------------------------------------------------------------------------
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY_SEC=1
QUEUE_REMOVE_ON_COMPLETE_DAYS=7
QUEUE_REMOVE_ON_COMPLETE_COUNT=1000
QUEUE_REMOVE_ON_FAIL_DAYS=14
QUEUE_REMOVE_ON_FAIL_COUNT=5000
QUEUE_WORKER_CONCURRENCY=5

# Multiple admins (comma-separated)
# ------------------------------------------------------------------------------------
SUPER_ADMIN_EMAILS=${SUPER_ADMIN_EMAILS}

# Feature Flags
# ------------------------------------------------------------------------------------
SENTRY_ENABLED=true
